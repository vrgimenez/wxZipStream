# =========================================================================
#     This makefile was generated by
#     Bakefile 0.1.4 (http://bakefile.sourceforge.net)
#     Do not modify, all changes will be overwritten!
# =========================================================================


@MAKE_SET@

prefix = @prefix@
exec_prefix = @exec_prefix@
INSTALL = @INSTALL@
SHARED_LD_CXX = @SHARED_LD_CXX@
LIBEXT = @LIBEXT@
LIBPREFIX = @LIBPREFIX@
SO_SUFFIX = @SO_SUFFIX@
DLLIMP_SUFFIX = @DLLIMP_SUFFIX@
EXEEXT = @EXEEXT@
SETFILE = @SETFILE@
PIC_FLAG = @PIC_FLAG@
NM = @NM@
srcdir = @srcdir@
top_builddir = @top_builddir@
DLLPREFIX = @DLLPREFIX@
LDFLAGS_GUI = @LDFLAGS_GUI@
AR = @AR@
RANLIB = @RANLIB@
CC = @CC@
CXX = @CXX@
CFLAGS = @CFLAGS@
CXXFLAGS = @CXXFLAGS@
CPPFLAGS = @CPPFLAGS@
LDFLAGS = @LDFLAGS@

### Variables: ###

DESTDIR = 
DLLWXZIP_CFLAGS = -I../../include -I../../src/zip -I../../src $(PIC_FLAG) \
	$(CPPFLAGS) $(CFLAGS)
DLLWXZIP_CXXFLAGS = -I../../include -I../../src/zip -I../../src $(PIC_FLAG) \
	`wx-config --cxxflags` $(CPPFLAGS) $(CXXFLAGS)
DLLWXZIP_OBJECTS =  \
	dllwxzip_ioapi.o \
	dllwxzip_unzip.o \
	dllwxzip_zip.o \
	dllwxzip_zipstream.o
LIBWXZIP_CFLAGS = -I../../include -I../../src/zip -I../../src $(CPPFLAGS) \
	$(CFLAGS)
LIBWXZIP_CXXFLAGS = -I../../include -I../../src/zip -I../../src `wx-config \
	--cxxflags` $(CPPFLAGS) $(CXXFLAGS)
LIBWXZIP_OBJECTS =  \
	libwxzip_ioapi.o \
	libwxzip_unzip.o \
	libwxzip_zip.o \
	libwxzip_zipstream.o
ZIPCOPY_CXXFLAGS = -I../../include -I../../src/zip -I../../src `wx-config \
	--cxxflags` $(CPPFLAGS) $(CXXFLAGS)
ZIPCOPY_OBJECTS =  \
	zipcopy_zipcopy.o

### Conditionally set variables: ###

@COND_DEPS_TRACKING_0@CCC = $(CC)
@COND_DEPS_TRACKING_1@CCC = $(top_builddir)./bk-deps $(CC)
@COND_DEPS_TRACKING_0@CXXC = $(CXX)
@COND_DEPS_TRACKING_1@CXXC = $(top_builddir)./bk-deps $(CXX)
@COND_SHARED_1@__dllwxzip___depname = \
@COND_SHARED_1@	../../lib/$(DLLPREFIX)wxzipstream.$(SO_SUFFIX)
@COND_PLATFORM_OS2_1@__dllwxzip___importlib = -import \
@COND_PLATFORM_OS2_1@	../../lib/$(LIBPREFIX)wxzipstreamstub.$(DLLIMP_SUFFIX)
@COND_PLATFORM_WIN32_1@__dllwxzip___importlib = \
@COND_PLATFORM_WIN32_1@	-Wl,--out-implib,../../lib/$(LIBPREFIX)wxzipstreamstub.$(DLLIMP_SUFFIX)
@COND_SHARED_0@__libwxzip___depname = \
@COND_SHARED_0@	../../lib/$(LIBPREFIX)wxzipstream$(LIBEXT)
@COND_PLATFORM_MAC_1@__zipcopy___mac_setfilecmd = \
@COND_PLATFORM_MAC_1@	$(SETFILE) -t APPL zipcopy$(EXEEXT)
COND_PLATFORM_OS2_1___zipcopy___os2_emxbindcmd = $(NM) zipcopy$(EXEEXT) | if \
	grep -q pmwin.763 ; then emxbind -ep zipcopy$(EXEEXT) ; fi
@COND_PLATFORM_OS2_1@__zipcopy___os2_emxbindcmd = $(COND_PLATFORM_OS2_1___zipcopy___os2_emxbindcmd)

### Targets: ###

all: $(__dllwxzip___depname) $(__libwxzip___depname) ../../bin/zipcopy$(EXEEXT)

install: all

uninstall: 

install-strip: install

clean: 
	rm -rf ./.deps ./.pch
	rm -f ./*.o
	rm -f ../../lib/$(DLLPREFIX)wxzipstream.$(SO_SUFFIX)
	rm -f ../../lib/$(LIBPREFIX)wxzipstreamstub.$(DLLIMP_SUFFIX)
	rm -f ../../lib/$(LIBPREFIX)wxzipstream$(LIBEXT)
	rm -f ../../bin/zipcopy$(EXEEXT)

distclean: clean
	rm -f configure config.cache config.log config.status bk-deps bk-make-pch shared-ld-sh Makefile

@COND_SHARED_1@../../lib/$(DLLPREFIX)wxzipstream.$(SO_SUFFIX): $(DLLWXZIP_OBJECTS)
@COND_SHARED_1@	$(SHARED_LD_CXX) $@ $(DLLWXZIP_OBJECTS) $(LDFLAGS) `wx-config --libs`  $(__dllwxzip___importlib)

@COND_SHARED_0@../../lib/$(LIBPREFIX)wxzipstream$(LIBEXT): $(LIBWXZIP_OBJECTS)
@COND_SHARED_0@	rm -f $@
@COND_SHARED_0@	$(AR) rcu $@ $(LIBWXZIP_OBJECTS)
@COND_SHARED_0@	$(RANLIB) $@

../../bin/zipcopy$(EXEEXT): $(ZIPCOPY_OBJECTS) $(__libwxzip___depname)
	$(CXX) -o $@ $(ZIPCOPY_OBJECTS) $(LDFLAGS) `wx-config --libs`  $(LDFLAGS_GUI)
	
	$(__zipcopy___mac_setfilecmd)
	$(__zipcopy___os2_emxbindcmd)

dllwxzip_ioapi.o: $(srcdir)/../../src/zip/ioapi.c
	$(CCC) -c -o $@ $(DLLWXZIP_CFLAGS) $<

dllwxzip_unzip.o: $(srcdir)/../../src/zip/unzip.c
	$(CCC) -c -o $@ $(DLLWXZIP_CFLAGS) $<

dllwxzip_zip.o: $(srcdir)/../../src/zip/zip.c
	$(CCC) -c -o $@ $(DLLWXZIP_CFLAGS) $<

dllwxzip_zipstream.o: $(srcdir)/../../src/common/zipstream.cpp
	$(CXXC) -c -o $@ $(DLLWXZIP_CXXFLAGS) $<

libwxzip_ioapi.o: $(srcdir)/../../src/zip/ioapi.c
	$(CCC) -c -o $@ $(LIBWXZIP_CFLAGS) $<

libwxzip_unzip.o: $(srcdir)/../../src/zip/unzip.c
	$(CCC) -c -o $@ $(LIBWXZIP_CFLAGS) $<

libwxzip_zip.o: $(srcdir)/../../src/zip/zip.c
	$(CCC) -c -o $@ $(LIBWXZIP_CFLAGS) $<

libwxzip_zipstream.o: $(srcdir)/../../src/common/zipstream.cpp
	$(CXXC) -c -o $@ $(LIBWXZIP_CXXFLAGS) $<

zipcopy_zipcopy.o: $(srcdir)/../../samples/zipcopy/zipcopy.cpp
	$(CXXC) -c -o $@ $(ZIPCOPY_CXXFLAGS) $<


# Include dependency info, if present:
@IF_GNU_MAKE@-include .deps/*.d

.PHONY: all install uninstall clean distclean
